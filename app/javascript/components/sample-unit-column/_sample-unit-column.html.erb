<div class='column detector-location' id='<%= "detector-location-container-#{detector_location.id}" %>'>
  <div class='card'>
    <div class='slideshow' id='<%= detector_location.id %>'>
      <% detector_location.images.each do |image| %>
        <div class='slideshow-image' data-image-url='<%= url_for(image) %>'></div>
      <% end %>
    </div>

    <button class='gallery-button is-large' aria-label='Edit'>Edit Gallery</button>
    <div class='card-content'>
      <div class='media'>
        <div class='media-content'>
          <p class='title is-4'><%= "Quad ID: #{detector_location.quad_id}" %></p>
          <p class='title is-5'><%= "Quad Number: #{detector_location.quad_number}" %></p>
        </div>
      </div>

      <div class='content'>
        <p>Datum: <%= "#{detector_location.datum}" %></p>
        <p>Coordinates: <%= "#{detector_location.coordinates}" %></p>
        <p>Elevation: <%= "#{detector_location.elevation}" %></p>
        <p>Land Ownership: <%= placeholder_if_blank(detector_location.land_ownership) %></p>
        <p>Land Ownership Details: <%= placeholder_if_blank(detector_location.land_ownership_detail) %></p>
        <p>Local Habitat:  <%= "#{detector_location.local_habitat.label}" %></p>
        <p>Detection Target: <%= placeholder_if_blank(detector_location.try(:target_descriptor).try(:detection_target).try(:label)) %></p>
        <p>Target Descriptor: <%= placeholder_if_blank(detector_location.try(:target_descriptor).try(:label)) %></p>
        <a class='driving-button button is-primary'>View Driving Directions</a>
      </div>
    </div>
  </div>

  <div class='modal driving-modal'>
    <div class='modal-background'></div>
      <div class='modal-card'>
        <header class='modal-card-head'>
          <p class='modal-card-title'>Driving Directions</p>
        </header>
        <section class='modal-card-body'>
          <div class='modal-content'>
            <p><%= placeholder_if_blank(detector_location.driving_directions) %></p>
          </div>
        </section>
      </div>

    <button class='modal-close driving-close is-large' aria-label='close'></button>
  </div>

  <div class='modal gallery-modal'>
    <div class='modal-background'></div>
      <div class='modal-card'>
        <header class='modal-card-head'>
          <p class='modal-card-title'>Image Gallery</p>
        </header>
        <section class='modal-card-body columns'>
          <% detector_location.images.each_with_index do |image,i| %>
            <div class='card-image gallery-card column'>
              <div class='gallery-modal-image' data-image-url='<%= url_for(image) %>'></div>
              <figure class='image gallery-figure is-4by3'>
              <img id='photo-<%="#{i}"%>' src='' />
              </figure>
              <%= link_to '<i class="far fa-trash-alt has-text-danger"></i>'.html_safe, sample_unit_delete_image_path(@sample_unit, id: @sample_unit.id, dt_id: detector_location.id ,url: url_for(image)) ,:method => 'delete', data: { confirm: 'Delete image?' } %>
            </div>
          <% end %>
        </section>
      </div>

    <button class='modal-close gallery-close is-large' aria-label='close'></button>
  </div>
</div>
