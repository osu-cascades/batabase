<div class="container-fluid">
  <% if @upload.nil? or @upload_csv.blank? or @upload_filename.blank? %>
    <%=
      render(AlertComponent.new(dismissible: false,
        type: :danger,
        heading: "Could not load data",
        message: "Something went wrong. Try reloading the webpage.",
        styling: "mt-3")
      )
    %>
  <% else %>
    <div class="row">
      <%= render(UploadDetailsComponent.new(data: @upload_csv, filename: @upload_filename)) %>
    </div>
    <div class="row justify-content-around mb-3">
      <%=
        button_to "Delete Upload",
        upload_path(@upload),
        class: 'btn btn-danger mx-2 align-self-end',
        method: :delete
      %>
      <%=
        link_to "Commit Upload",
        upload_commit_path(@upload),
        class: 'btn btn-success mx-2',
        method: :commit
      %>
    </div>
  <% end %>
</div>
